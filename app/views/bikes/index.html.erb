<div class="container">
  <div class="row">
    <div class="col">
      <h1 class="mb-4 mt-4">Bikes near you</h1>
    </div>
    <div class="col">
      <%= form_tag bikes_path, method: :get, class: "form-inline my-2 my-lg-0 ml-auto" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control mr-sm-2",
          placeholder: "Find a bike"
        %>
        <%= submit_tag "Search", class: "btn btn-outline-success my-2 my-sm-0" %>
      <% end %>
    </div>
  </div>
</div>

<div class="container mt-4">
  <div class="row row-cols-1 row-cols-md-2 mt-1">
    <div class="col">
      <% @bikes.each do |bike| %>
        <%= render 'shared/bikes_card', bike: bike %>
      <% end %>
    </div>
    <div class="col">
      <div id="map"
        style="width: 100%; height: 900px; position: sticky; top: 0;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
  </div>
</div>
